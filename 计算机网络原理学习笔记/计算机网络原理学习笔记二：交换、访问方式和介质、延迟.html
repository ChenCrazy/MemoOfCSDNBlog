<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>计算机网络原理学习笔记二：交换、访问方式和介质、延迟</title>
<link rel="stylesheet" href="https://stackedit.io/res-min/themes/base.css" />
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body><div class="container"><h2 id="网络核心分组交换">网络核心：分组交换</h2>



<h3 id="分组交换存储转发的过程">分组交换：存储转发的过程</h3>

<p>将不同格式的报文划分成较小的数据块：“分组(packets)” <br>
存储转发：交换机等到整个分组全部到达完毕后，再进行转发或路由接力</p>

<ul>
<li>报文以整体的方式来发送的话，为电路交换，报文长短没有限制，必须接收完毕才能进行下一个过程的交换</li>
<li>分组交换：在接收完上一组报文后，在下一组报文接送期间即可传送已接收的部分</li>
</ul>



<h3 id="分组交换vs电路交换">分组交换VS电路交换</h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;分组交换使得更多的用户可“同时”使用网络。例如有1M/s的链路每个用户当他激活时，可分配到100kb/s的带宽，每个用户平均的激活时间为10% <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这种情况下，若使用电路交换方式，那我们最多只能容纳10个用户，而我们若使用分组交换，假设有35个用户，对35各用户来说同时激活的概率小于0.00004 <br>
从经济上更为划算 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 自然的，分组交换实际上只是在突发性数据传输过程中表现优异：因为他的资源是所有用户可以共享，按需分配，资源基本不会浪费，无须事先建立连接，时间上效率也会高</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 然而网络普及之后，人们对带宽的需求是无止境的，这种情况网络过度拥塞：导致分组延迟和丢失，需要协议来保障可靠的数据传输，对拥塞进行控制。 <br>
所以因特网面临着一个严重的问题，如何在分组交换网中提供电路交换性能？为音频/视频等应用提供带宽保障，仍然是一个有待解决的问题。</p>

<ul>
<li>分组交换：路由选择问题 <br>
目标：将分组沿路由器从信源送达信宿 <br>
因特网的路由选择协议</li>
<li>数据报网络： <br>
由信宿地址来决定下一个步跳(hop) <br>
在会话过程中，路由可能发生变化：就像开车的规划线路会因为时间而变化。</li>
<li>虚电路网络： <br>
每一个分组都携带有标签(虚电路ID)，由标签来确定下一个步跳 <br>
首先需要连接建立，在此阶段确定就确定下来固定的路由，全部数据通过该路由传递 <br>
路由器为每个正在通信中的连接维持状态</li>
</ul>



<h2 id="访问网络和物理介质">访问网络和物理介质</h2>

<p>所谓访问网络是如何把端接路由与端系统进行连接？ <br>
<br>
每一个电话的分机，都会直接连接到端机上去，而计算机要连接到因特网上时，首先要经过一个端接路由器(edge router)连接时，主要有几种方式，居民区访问网络，企事业单位访问网络，移动访问网络等方式 <br>
在考虑网络接入时，考虑的关键问题就是带宽(b/s)和占有方式，是共享还是独享。</p>

<ul>
<li>居民区的访问：点对点的访问 <br>
<ul><li>拨号访问(PSTN) <br>
对路由器的访问速度，理论上最高可达56kb/s，</li>
<li>ISDN(一线通)：integraed service digital network <br>
对路由器的全数字化连接，可达到128kb/s的带宽。</li>
<li>ADSL(非对称用户线路)：asymmetric digital subscriber line <br>
上行可达 1Mb/s home-to-router <br>
下行可达 8Mb/s router-to-home</li>
<li>ADSL的应用已经普及 <br>
拨号和一线通都是根据时间来计费，ADSL是按月的租用线路</li></ul></li>
<li>居民区访问的第二种方式：线缆调制解调器 <br>
<ul><li>HFC：hybrid fiber coax(光钎同轴电缆混合网络)</li>
<li>非对称：上行速率可达1Mb/s，下行有10Mb/s速率</li>
<li>光纤同轴电缆的一种混合网络 将家庭连接到ISP路由器，在若干家庭用户间共享访问宽带所以对接入的网路规模进行控制，否则很容易造成网络拥塞</li>
<li>应用：“智能小区”</li></ul></li>
<li>单位访问：局域网</li>
<li>公司/大学 局域网(LAN)将端系统连接到端接路由器，单位将计算机连接到局域网上，局域网又以以太网居多</li>
<li>以太网(Ethernet) <br>
    共享带宽或专线电缆将端系统连接端系统和路由器。路径有各种速率的以太网，10 Mb/s，100Mb/s，1Gb/s。 <br>
<ul><li><font color="red">彩蛋：Ether古希腊人认为光传播是依靠这种叫作Ether的物质，以此命名，可见其快，而在同时代的远程网络的速率每秒钟只有9600个bps。</font></li></ul></li>
<li>应用：在如今的企事业单位，家庭用户已经非常普及，基本上所有地方都能见到这种网络。</li>
<li>无线访问网络 <br>
共享带宽的，共享到一个无线电频道，访问网络连接。 <br>
<ul><li>无线LAN(无线局域网) <br>
使用无线频谱代替网线，其是一种重要的通信资源，在各个国家都是由专门的机构来制定无线电频谱的使用策略。无线电是一种高频的电波，高频的无线电波传输的距离就非常有限，一般局限于100M到300M的范围之内，有些高速标准只有50M。好处在于，无线电波过强的情况下可能泄密，或者干扰其他网络通讯设备。 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.g.朗讯 Wabelan 11Mb/s</li>
<li>广域无线访问 <br>
CDPD：通过蜂窝式网络无线访问ISP路由器 <br>
应用：手机和计算机相连，就是无线的广域网</li></ul></li>
</ul>



<h2 id="介质">介质</h2>

<p>物理链路：沿链路发送和传输数据的位流</p>

<ul>
<li>有线介质(guiuded media) <br>
    信号沿着固体介质传播：铜缆线，光纤</li>
<li>无线介质(unguided media) <br>
    信号在大气或外层空间自由传播，e.g.无线电</li>
</ul>



<h3 id="有线介质">有线介质</h3>

<ul>
<li>双绞线(Twisted Pair ,TP):两根互相绝缘的铜线</li>
<li>三类线(Category 3 TP):普通电话线,10M/s ,Ethernet</li>
<li>五类线(Category 5 TP):100Mb/s Ethernet</li>
<li><p>同轴电缆：</p>

<pre><code>芯线(携带信号)为皮线所缠绕(屏蔽层)。同轴电缆以硬铜线为芯，外包一层绝缘材料。这层绝缘材料用密织的网状导体环绕，网外又覆盖一层保护性材料。有两种广泛使用的同轴电缆。一种是50欧姆电缆，用于数字传输，由于多用于基带传输，也叫基带同轴电缆；另一种是75欧姆电缆，用于模拟传输，即宽带同轴电缆。这种区别是由历史原因造成的，而不是由于技术原因或生产厂家。
同轴电缆的这种结构，使它具有高带宽和极好的噪声抑制特性。同轴电缆的带宽取决于电缆长度。1km的电缆可以达到1Gb/s~2Gb/s的数据传输速率。还可以使用更长的电缆，但是传输率要降低或使用中间放大器。目前，同轴电缆大量被光纤取代，但仍广泛应用于有线电视和某些局域网。   
</code></pre></li>
<li><p>基带同轴电缆： <br>
        在一条电缆中只有一路信号,基带信号实际上是把二进制信号略加调制以后直接送到了基带电缆上边，即基带电缆上实际上传输的是脉冲信号，方波信号</p></li>
<li><p>带宽同轴电缆： <br>
        在一条电缆中有多个数据通道,实际上是家庭中使用的闭路电视的电缆，一个台的信号大约6M， <br>
    同轴电缆中的信号是双向传输的，常用在10Mb/s Ethernet</p></li>
<li><p>光缆：主要的通讯干线都是光缆铺设的，光缆是在玻璃纤维中传播光脉冲 <br>
    其在进行高速的点对点传输时可达到5Gb/s以上的高速，光信号也不会受到自然界其他电波的干扰，所以他的误码率也非常低</p></li>
<li><p>无线介质：无线电</p>

<ul><li>使用电磁波谱传送信号</li>
<li>不使用物理”导线”</li>
<li>双向传输</li>
<li>传播环境影响: <br>
     反射、为障碍物所阻隔、信号间串扰，太阳活动干扰。</li></ul></li>
<li><p>无线链路类型：</p>

<ul><li>微波e.g.可以达到45Mb/s的通道 <br>
    构建无线LAN，e.g.WabeLAN达到2Mb/s,11Mb/s</li>
<li>广域网，使用运营商提供的蜂窝电话来做广域网的接入，e.g.CDPD:10’KB/s </li>
<li>卫星：一个卫星转发器可达到50Mb/s 通信，不一定被一个单位一次用完或被划分成多个较小的信道，270Ms的端对端延迟， <br>
<ul><li>地球赤道上空2W3Kkm的环线地方放置三颗卫星即可覆盖地球同步卫星，为避免信号的重合要有一定的夹角，所以地球同步卫星的轨道也是人类拥有的共同的资源，已被分割完毕</li>
<li>LEOS一星计划不同步地球轨道卫星，用多个卫星组成通信网络</li></ul></li></ul></li>
</ul>



<h2 id="分组交换网络的延迟问题">分组交换网络的延迟问题</h2>

<p>大家都有感觉到因特网非常的慢，既是因为会产生延迟，延迟是在路由器/交换节点设备上产生的，每个路由器都要存储转发，所以会因为各种因素产生延迟。</p>

<p>分组在端到端传输的过程中会经历延迟，在每个步跳中产生的延迟可分为四种transmission(发射延迟)、propagation(传播延迟)、nodal processing(结点处理延迟)、queueing(排队延迟)。 <br>
<font color="blue">  <br>
 - 结点处理延迟：每一个交换结点对它所收到分组至少要进行校验错误、确定输出链路对路由进行查表的处理。 <br>
 - 排队延迟：在输出链路中等待被发送、取决于路由器/网络的拥塞程度。 <br>
 - 发送延迟：R=链路带宽(b/s)，L=分组长度(bits),将分组位流发送到链路上的时间=L/R; <br>
 - 传播延迟:d=物理链路的长度，s=介质中信号传播的速度(~2x10<sup>8</sup>m/s)，传播延迟=d/s  <br>
 </font> <br>
    **注意**s和R是两个完全不同的概念。 <br>
   -  这四个延迟原因中最难以控制的就是排队时间，即网络线路的忙闲程度。 <br>
 -  再议排队延迟 <br>
    R=链路带宽(b/s) <br>
    L=分组长度(bits) <br>
    a=平均分组到达速率 <br>
    -  数据流量的强度=La/R <br>
            La/R~0:平均延迟时间很小 <br>
            La/R-&gt;:延迟时间变长 <br>
            La/R&gt;1:”任务”到达的速度超过服务能力，平局延迟趋于无穷。实际上就是数据被丢失了 <br>
 - <strong><code>Traceroute(tractert)</code></strong>:显示信源到信宿路径上是那个的路由器 <br>
    可在Windows cmd的命令行中测试网站访问延迟，示例如下： <br>
    <code> <br>
    tractert www.163.com <br>
</code> <br>
    <br><br>
<img src="http://img.blog.csdn.net/20170829032350429?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzQ2MTkzMzc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="测试样图" title=""> <br>
    <br><br>    <br><br>    <br><br>
    下一部分：协议的“层次”</p></div>
        <span>（2017-08-29 03:33）</span>
    </body>

</html>
